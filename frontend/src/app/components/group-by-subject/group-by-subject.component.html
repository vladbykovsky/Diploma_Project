<div style="background: linear-gradient(to bottom, #ffffff 0%, #343a40 98%)">
<div class="container-fluid" style="padding-top: 20px;">
  <h1 class="text-center">Статистика посещений группы</h1>
  <hr class="bg-dark" style="margin-left: 30px; margin-right: 30px">
</div>
<div class="row container-fluid" style="padding-top: 20px;">

  <div *ngIf="subject" class="col-md-2" style="padding-left: 45px">
    <div class="text-center" style="padding-bottom: 15px;">
      <a class="text-dark btn">Предмет</a>
      <select name="subject"
              [(ngModel)]="subjectId" (ngModelChange)="loadAbsence(subjectId)" class="form-control">
        <option value="4" selected>АТП</option>
        <option value="19">БЖ</option>
        <option value="18">Экономика</option>
      </select>
    </div>

    <div class="card flex-md-row mb-4 box-shadow h-md-250">
      <div class="card-body d-flex flex-column align-items-start">
        <div style="padding: 5px">
          <p>Предмет: {{subject.fullTitle}}</p>
        </div>
        <div style="padding: 5px">
          <p>Преподаватель: {{subject.teacherByTeacherId.surname}}
            {{subject.teacherByTeacherId.name}}
            {{subject.teacherByTeacherId.middleName}}</p>
        </div>
        <div style="padding: 5px; margin-bottom: 16px">
          <a href="#" style="color: black">Почта: {{subject.teacherByTeacherId.mail}}</a>
        </div>
        <div style="padding: 5px">
          <p>Телефон: {{subject.teacherByTeacherId.telephone}}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-10">
    <div class="table-responsive">
      <table class="table table-bordered" style="background-color: white">
        <thead class="thead-dark">
        <tr>
          <th scope="col">№</th>
          <th scope="col">ФИО</th>
          <th scope="col" *ngFor="let d of datesOfAtp">{{d}}</th>
          <th>Итого</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let s of students">
          <td>{{s.id}}</td>

          <td *ngIf="auth.account.studentByStudentId.id == s.id" class="table-success">{{s.name}} {{s.surname}}</td>
          <td *ngIf="auth.account.studentByStudentId.id != s.id">{{s.name}} {{s.surname}}</td>
          <td *ngFor="let a of absencesOfAtp[s.id-1]">{{a}}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

<!--  <div *ngIf="absences2" class="col-md-7">-->



<!--    <table class="table table-bordered" style="border: solid 1px #292b2c">-->
<!--      <thead class="thead-dark">-->
<!--      <tr>-->
<!--        <th scope="col">№</th>-->
<!--        <th scope="col">ФИО</th>-->
<!--        <th *ngFor="let d of absences2[10]" scope="col">{{d.date}}</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr *ngFor="let s of students">-->
<!--        <td>{{s.id}}</td>-->
<!--        <td>{{s.name}} {{s.surname}}</td>-->
<!--        <td *ngIf="absences2[s.id].length == 1; then contOne"></td>-->
<!--        <td *ngIf="absences2[s.id].length > 1; then contTwo"></td>-->
<!--        <td *ngIf="absences2[s.id].length == 0; then contTree"></td>-->
<!--        <ng-template #contOne>-->
<!--          <td></td>-->
<!--          <td>{{absences2[s.id][0].quantity}}ч({{absences2[s.id][0].reason}})</td>-->
<!--        </ng-template>-->
<!--        <ng-template #contTwo><td *ngFor="let a of absences2[s.id]">{{a.quantity}}ч({{a.reason}})</td></ng-template>-->
<!--        <ng-template #contTree><td *ngFor="let a of absences2[10]"></td></ng-template>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->

<!--    <div class="text-center col-md-4">-->
<!--      <a class="text-dark btn">Предмет</a>-->
<!--      <select name="subject" class="form-control">-->
<!--        <option value="4" selected>АТП</option>-->
<!--        <option value="19">БЖ</option>-->
<!--        <option value="18">Экономика</option>-->
<!--      </select>-->
<!--    </div>-->

<!--    <div style="padding: 20px;">-->

<!--      <h2 class="text-center">Автоматизация технологического проектирования</h2>-->
<!--      <h4 class="text-center">Кункевич Дмитрий Петрович</h4>-->

<!--    </div>-->
  <!--</div>-->



</div>
  <hr class="bg-white" style="margin-top: 30px; margin-right: 45px; margin-left: 45px; margin-bottom: 0px">
</div>
